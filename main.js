var pong = 'b140b280a210b201b308a312b202b340a312b203b308a312b204b340a312b205b380a312b207b3ffa312b210b380a312b211b3f0a312b212b340a312b213b308a312b214b340a312b215b380a312b217b3ffa312b220b380a312b221b37ca312b222b35ca312b223b308a312b224b308a312b225b380a312b227b3ffa312b17fb211b301a312b101b240a201b102a201b103b27ca201b104b25ca201b17f9210b301c4235443be00bfa084efb17f9210b302c4235443be00bfa984efb17fb2019312c4325442be00bfb384efb17fb2019312b202c4325442be00bfbc84efb1059201be00bfc662efb1059201be00bfed72efb1069201be01bf1362efb1069201be01bf2672efb1019201b1029201b340b412a234b1019201b402a234b1039201b421a234b1049201b422a234be01bf3905efb17fb2119312a300be00bf4e05efbe00bf56b1029201542084ef4204a20105efbe00bf5eb1029201b380542384ef3204a20105efbe00bf66b1019201542084ef4204a20105efbe00bf6fb1019201b380542384ef3204a20105efb1039201b3045323be00bf4363efb3105323be00bfe673efb1019301b104940134085543b140111344085641be00bfe665ef76efb105b202a201be00bf7405efb10392014204a201be00bf7405efb1039201b3f45323be00bf4373efb3e85323be01bf0c63efb1029301b104940134085543b140111344085641be01bf0c65ef76efb105a001be00bf7905efb10392013204a201be00bf7905efb10492015102be01bf1f61efb106b202a201be00bf7e05efb10492014204a201be00bf7e05efb1049201b3b85123be01bf3261efb106a001be00bf7e05efb10492013204a201be00bf8305ef06000600060006000600060006000600b17fb21193129400b102c313c414e3345131be00bf9981efbe01bf3905ef';
var mars = 'b07fb111b301a301b041b100b390a301b101b378a301b102b358a301b103b310a301b104a301b405b580a504b407b5ffa504b408b536a504b409b50ba504b200b600b708b040b040b1101112b390a301b1111112b30013321332a301b1131112b320a301b1141112b340a301b4151442b580a504b4161442b540a504b4171442b500a504b4181442b5ffa504b4191442b5fea504321036015867be00bf2368efb190b390a301b191b320a301b192b360a301b193b310a301b194a301b195b382a301b196b340a301b197b360a301b198b3a4a301b07fb110b280a201b07fb100b3029201c2235423b900ba96849a9201b301c2235423b900baa2849a9201b304c2235423b900baae849a9201b308c2235423b900baba849a0600b900bac6059abc7fbd119fcdb900ba70059ab900ba77b541b6029756b4ae5474749ab8021778a756059ab900ba7eb541b6029756b4405474649ab8022778a756059ab900ba85b541b6019756b4005474849ab8022778a756059ab900ba8cb541b6019756b4f05474849ab8021778a756059a06000600060006000600060006000600bc7fbd119ecdbc02cececfcfeeef5cecb900ba908c9ab900bac6059a'
var marsrom = 'ff0000fc3f0015fc3f5815fc3f5815fc3f6805fc3fa000ffff0000fc3f0000f00f2000f00f0000f00f00c0f00f03c3fc3fc3c3ffffc3c3ffffc3c3ffffc300000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030c000000000c00030f0000000c0c303f3f003cc00fccfffffff3fffcffffffffffffffffffffffffffffffffffffffffffffcffff7ff0ffff57f0ffff57c1ffff57c0ffff5700ffff5700ffff5000fcff5500fcff5501f07f5501f07f5505f0ff1505ffff5f'

var instruction = '';
var program = []; // Make groups of 2 bytes
for (var i = 0; i < mars.length + 1; i++) {
    if (i % 4 == 0 && i > 0) {
        program.push(parseInt(instruction, 16))
        instruction = '';
    }
    if (i < mars.length)
        instruction += mars.charAt(i);
}

VM.code = program;
for (var i = 0; i < marsrom.length; i++) {
    VM.memory[ROM_SEGMENT_START * MEMORY_SEGMENT_SIZE + i] = parseInt(marsrom.charAt(i));
}
VM.canvas = document.getElementById('game_canvas');

run(VM);
